const express = require('express')
const app = express()
const port = 3000
app.use(express.json())
app.use(express.static('./'))
const RED_PIN = 2
const GREEN_PIN = 3
const BLUE_PIN = 4

const Gpio = require('pigpio').Gpio;
 
const led = new Gpio(17, {mode: Gpio.OUTPUT});
 
let dutyCycle = 0;
 
setInterval(() => {
  led.pwmWrite(dutyCycle);
 
  dutyCycle += 5;
  if (dutyCycle > 255) {
    dutyCycle = 0;
  }
}, 20);

app.listen(port, 
	function(){
		console.log(`now listening on port ${port}`)
	})

